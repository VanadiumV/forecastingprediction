# -*- coding: utf-8 -*-
"""Copy of Day2 forecasting & Prediction

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1w2rTbf6K4fXqruHGTdM-M3AO1aK-5XtC
"""

import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt
import plotly.express as px    ### plot data on world map

df = pd.read_csv('covid_19_clean_complete.csv')
df.tail()

df.info()

#### Prediction & Forecasting
#### Library - fbprophet - It is created by Facebook for time series analysis (forecasting)
#### Two Columns should be there -- Date/Time ||| Data
#### As per fbprophet - date column shoulb be renamed as 'ds' and data should be 'y'

from fbprophet import Prophet

df.head()

confirmed = df.groupby('Date')['Confirmed'].sum().reset_index()
confirmed.head()

confirmed.rename(columns={"Date":"ds","Confirmed":"y"},inplace=True)
confirmed.head()

model=Prophet(interval_width=0.95,yearly_seasonality=True)
model.fit(confirmed).yearly_seasonality=True
confirmed.tail()

future_dates = model.make_future_dataframe(periods=15)
future_dates

forecast = model.predict(future_dates)

forecast[['ds','yhat','yhat_lower','yhat_upper']].tail(20)

###  yhat - predicted value

